<ng-template *ngIf="!data.edit" matStepLabel>Edit {{data.process.name}} </ng-template>
<ng-template *ngIf="data.edit"  matStepLabel> Add a New Process </ng-template>
<h2 *ngIf="!data.edit" class="title">Edit {{data.process.name}}</h2>
<h2 *ngIf="data.edit" class="title"> Add a New Process </h2>

<div [formGroup]="group">
    <div class="box-container">
      <mat-form-field appearance="fill" class="box">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name" formControlName="name" required>
          <!-- <mat-error *ngIf="group.get('name')?.hasError('required')">
            Can't be blank </mat-error> -->
        </mat-form-field>
        <mat-form-field appearance="fill" class="box">
        <mat-label>Nombre d'instance</mat-label>
        <input matInput placeholder="nbInstance" formControlName="nbInstance" required>
          <!-- <mat-error *ngIf="group.get('name')?.hasError('required')">
            Can't be blank </mat-error> -->
        </mat-form-field>
        <mat-slide-toggle required color="accent" formControlName="startAtLaunch">
          Start at launch
        </mat-slide-toggle>
        <mat-form-field>
          <mat-label>Type de redemarrage</mat-label>
          <mat-select formControlName='restartType'>
            <mat-option [value]="contentType" *ngFor="let contentType of restartValue()"> 
               {{contentType}}
            </mat-option>
         </mat-select>
       </mat-form-field>
       <mat-form-field appearance="fill" class="box">
        <mat-label>Code de Sortie Attendu</mat-label>
        <input matInput placeholder="expectedExitCode" formControlName="expectedExitCode" required>
        </mat-form-field>
        <mat-form-field appearance="fill" class="box">
          <mat-label>Temps de demarrage</mat-label>
          <input matInput placeholder="startupTime" formControlName="startupTime" required>
          </mat-form-field>
        <mat-form-field appearance="fill" class="box">
            <mat-label>Nombre de tentavide de redemarrage</mat-label>
            <input matInput placeholder="restartRetryCount" formControlName="restartRetryCount" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Signal de sortie</mat-label>
          <mat-select formControlName='exitSignal'>
            <mat-option [value]="contentType" *ngFor="let contentType of exitSignals()"> 
               {{contentType}}
            </mat-option>
         </mat-select>
       </mat-form-field>
       <mat-form-field appearance="fill" class="box">
        <mat-label>Temps d'arret</mat-label>
        <input matInput placeholder="gracefulStopTime" formControlName="gracefulStopTime" required>
      </mat-form-field>
      <mat-form-field appearance="fill" class="box">
        <mat-label>Temps d'arret</mat-label>
        <input matInput placeholder="umask" formControlName="umask" required>
    </mat-form-field>
    <mat-form-field appearance="fill" class="box" disabled="true">
      <mat-label>Etat du processus </mat-label>
      <input matInput placeholder="etat" formControlName="etat">
  </mat-form-field>

    </div>
    <mat-card-footer class="buttons">
      <button mat-raised-button mat-dialog-close class="cancel">Cancel</button>
      <button mat-raised-button mat-dialog-close class="next" color="primary" [disabled]="group.invalid"  [mat-dialog-close]="getReturnData()">Save</button>
    </mat-card-footer>
  </div>